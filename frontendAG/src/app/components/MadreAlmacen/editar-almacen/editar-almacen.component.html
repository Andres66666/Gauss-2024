<h1>Editar Almacen</h1>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="nombreAlmacen">Nombre Almacen</label>
    <input
      type="text"
      id="nombreAlmacen"
      formControlName="nombreAlmacen"
      class="form-control"
      [ngClass]="{
        'is-invalid':
          form.get('nombreAlmacen')?.invalid &&
          form.get('nombreAlmacen')?.touched
      }"
    />
    <div
      *ngIf="
        form.get('nombreAlmacen')?.invalid && form.get('nombreAlmacen')?.touched
      "
      class="invalid-feedback"
    >
      El nombre de usuario es requerido.
    </div>
  </div>
  <div class="form-group">
    <label for="obra">Obra</label>
    <select
      id="obra"
      formControlName="obra"
      class="form-control"
      [ngClass]="{
        'is-invalid': form.get('obra')?.invalid && form.get('obra')?.touched
      }"
    >
      <option *ngFor="let o of obras" [value]="o.id">{{ o.nombreObra }}</option>
    </select>
    <div
      *ngIf="form.get('obra')?.invalid && form.get('obra')?.touched"
      class="invalid-feedback"
    >
      Debes seleccionar una obra.
    </div>
  </div>

  <div class="form-group form-check">
    <input
      type="checkbox"
      id="estadoAlmacen"
      formControlName="estadoAlmacen"
      class="form-check-input"
    />
    <label for="estadoAlmacen" class="form-check-label">Activo</label>
  </div>
  <button type="submit" class="btn btn-primary" [disabled]="form.invalid">
    Guardar Cambios
  </button>
</form>
<!-- Modal de Éxito -->
<div
  class="modal"
  tabindex="-1"
  role="dialog"
  *ngIf="manejarModal && !errorModal"
  style="display: block"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Información</h5>
        <button type="button" class="close" (click)="manejarModal = false">
          <span>&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>{{ mensajeModal }}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="manejarOk()">
          OK
        </button>
      </div>
    </div>
  </div>
</div>
